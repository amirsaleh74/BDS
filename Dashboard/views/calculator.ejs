<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Debt Settlement Calculator - See Your Savings</title>
    <link rel="stylesheet" href="/css/theme.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .calculator-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
        }

        .calculator-content {
            padding: 40px;
        }

        .input-section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }

        .input-wrapper {
            position: relative;
        }

        .input-prefix {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #667eea;
            font-weight: 600;
        }

        input[type="number"],
        select {
            width: 100%;
            padding: 15px 15px 15px 35px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn-calculate {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }

        .btn-calculate:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .results-section {
            display: none;
            margin-top: 40px;
        }

        .results-section.show {
            display: block;
        }

        .results-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .results-header h2 {
            color: #667eea;
            font-size: 28px;
            margin-bottom: 10px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .comparison-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s;
        }

        .comparison-card.recommended {
            border-color: #667eea;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            transform: scale(1.05);
        }

        .comparison-card h3 {
            font-size: 18px;
            color: #333;
            margin-bottom: 15px;
        }

        .big-number {
            font-size: 36px;
            font-weight: 700;
            color: #667eea;
            margin: 15px 0;
        }

        .savings-badge {
            background: #4caf50;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            display: inline-block;
            margin-top: 10px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .detail-item:last-child {
            border-bottom: none;
        }

        .detail-label {
            color: #666;
        }

        .detail-value {
            font-weight: 600;
            color: #333;
        }

        .detail-value.success {
            color: #4caf50;
        }

        .cta-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 12px;
            text-align: center;
            margin-top: 30px;
        }

        .cta-section h2 {
            font-size: 28px;
            margin-bottom: 15px;
        }

        .cta-section p {
            font-size: 18px;
            margin-bottom: 25px;
            opacity: 0.9;
        }

        .btn-cta {
            background: white;
            color: #667eea;
            padding: 16px 40px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .disclaimer {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
            font-size: 12px;
            color: #666;
            text-align: center;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 24px;
            }

            .calculator-content {
                padding: 20px;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            .comparison-card.recommended {
                transform: scale(1);
            }
        }
    </style>
</head>
<body>
    <div class="calculator-container">
        <div class="header">
            <h1>ðŸ’° Free Debt Settlement Calculator</h1>
            <p>See how much you could save in under 60 seconds</p>
        </div>

        <div class="calculator-content">
            <div class="input-section">
                <h2 style="margin-bottom: 25px; color: #333;">Enter Your Information</h2>

                <div class="form-group">
                    <label for="totalDebt">Total Unsecured Debt</label>
                    <div class="input-wrapper">
                        <span class="input-prefix">$</span>
                        <input type="number" id="totalDebt" placeholder="25000" min="1000" step="1000">
                    </div>
                </div>

                <div class="form-group">
                    <label for="monthlyIncome">Monthly Income (Before Taxes)</label>
                    <div class="input-wrapper">
                        <span class="input-prefix">$</span>
                        <input type="number" id="monthlyIncome" placeholder="4500" min="0" step="100">
                    </div>
                </div>

                <div class="form-group">
                    <label for="creditScore">Credit Score (Estimated)</label>
                    <select id="creditScore">
                        <option value="580">Poor (< 580)</option>
                        <option value="620">Fair (580-650)</option>
                        <option value="680" selected>Good (650-700)</option>
                        <option value="740">Very Good (700-750)</option>
                        <option value="780">Excellent (750+)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="numberOfCreditors">Number of Creditors</label>
                    <select id="numberOfCreditors">
                        <option value="1">1-2 creditors</option>
                        <option value="3" selected>3-5 creditors</option>
                        <option value="6">6-10 creditors</option>
                        <option value="11">More than 10</option>
                    </select>
                </div>

                <button class="btn-calculate" onclick="calculateResults()">
                    Calculate My Savings â†’
                </button>
            </div>

            <div class="results-section" id="resultsSection">
                <div class="results-header">
                    <h2>Your Personalized Results</h2>
                    <p>Here's how much you could save with debt resolution</p>
                </div>

                <div class="comparison-grid" id="comparisonGrid">
                    <!-- Results will be inserted here -->
                </div>

                <div id="detailsSection">
                    <!-- Detailed breakdown will be inserted here -->
                </div>

                <div class="cta-section">
                    <h2>Ready to Get Started?</h2>
                    <p>Schedule a free, no-obligation consultation with a debt specialist</p>
                    <button class="btn-cta" onclick="scheduleConsultation()">
                        Get My Free Consultation
                    </button>
                </div>

                <div class="disclaimer">
                    <strong>Disclaimer:</strong> This calculator provides estimates only. Actual results may vary based on your specific situation, creditor negotiations, and program terms. Debt settlement may negatively impact your credit score. Not all clients complete their program, and not all debts are eligible for enrollment. Consult with a licensed debt specialist for personalized advice.
                </div>
            </div>
        </div>
    </div>

    <script>
        function calculateResults() {
            const totalDebt = parseInt(document.getElementById('totalDebt').value) || 0;
            const monthlyIncome = parseInt(document.getElementById('monthlyIncome').value) || 0;
            const creditScore = parseInt(document.getElementById('creditScore').value) || 650;
            const numberOfCreditors = parseInt(document.getElementById('numberOfCreditors').value) || 3;

            if (totalDebt < 5000) {
                alert('Please enter a debt amount of at least $5,000');
                return;
            }

            // Call backend API to calculate
            fetch('/api/calculator/settlement', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    totalDebt,
                    monthlyIncome,
                    creditScore,
                    numberOfCreditors
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    displayResults(data.calculation);
                } else {
                    alert('Error calculating results. Please try again.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Error calculating results. Please try again.');
            });
        }

        function displayResults(calc) {
            const resultsSection = document.getElementById('resultsSection');
            const comparisonGrid = document.getElementById('comparisonGrid');
            const detailsSection = document.getElementById('detailsSection');

            const current = calc.currentPath;
            const resolution = calc.resolutionPath;

            // Show results section
            resultsSection.classList.add('show');
            resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });

            // Build comparison cards
            let cardsHTML = '';

            // Current path card
            if (current.feasible) {
                cardsHTML += `
                    <div class="comparison-card">
                        <h3>Current Path<br/>(Minimum Payments)</h3>
                        <div class="big-number">${current.years} years</div>
                        <div class="detail-item">
                            <span class="detail-label">Monthly Payment</span>
                            <span class="detail-value">$${current.monthlyPayment.toLocaleString()}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Total Interest</span>
                            <span class="detail-value">$${current.interestPaid.toLocaleString()}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Total Cost</span>
                            <span class="detail-value">$${current.totalPaid.toLocaleString()}</span>
                        </div>
                    </div>
                `;
            }

            // Resolution path card (recommended)
            cardsHTML += `
                <div class="comparison-card recommended">
                    <h3>âœ¨ Debt Resolution<br/>(Recommended)</h3>
                    <div class="big-number">${resolution.years} years</div>
                    <div class="detail-item">
                        <span class="detail-label">Monthly Payment</span>
                        <span class="detail-value">$${resolution.monthlyPayment.toLocaleString()}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Total Interest</span>
                        <span class="detail-value success">$0</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Total Cost</span>
                        <span class="detail-value">$${resolution.totalPaid.toLocaleString()}</span>
                    </div>
                    <div class="savings-badge">
                        Save $${resolution.savings.toLocaleString()} (${resolution.savingsPercent}%)
                    </div>
                </div>
            `;

            comparisonGrid.innerHTML = cardsHTML;

            // Build details section
            let detailsHTML = '<div style="background: #f8f9fa; padding: 30px; border-radius: 12px; margin-top: 30px;">';
            detailsHTML += '<h3 style="margin-bottom: 20px; color: #667eea;">How Debt Resolution Works</h3>';
            detailsHTML += '<div style="line-height: 1.8; color: #333;">';
            detailsHTML += '<p style="margin-bottom: 15px;"><strong>1. Stop making payments to your creditors</strong> - You\'ll instead make affordable deposits into a dedicated account.</p>';
            detailsHTML += '<p style="margin-bottom: 15px;"><strong>2. We negotiate with your creditors</strong> - Our team works to settle your debts for less than you owe (typically 40-60% of the balance).</p>';
            detailsHTML += '<p style="margin-bottom: 15px;"><strong>3. Settle your debts one by one</strong> - As funds accumulate, we settle accounts in order of priority.</p>';
            detailsHTML += '<p style="margin-bottom: 15px;"><strong>4. Become debt-free</strong> - Complete the program and enjoy financial freedom!</p>';
            detailsHTML += '</div>';
            detailsHTML += '</div>';

            detailsSection.innerHTML = detailsHTML;
        }

        function scheduleConsultation() {
            const totalDebt = parseInt(document.getElementById('totalDebt').value) || 0;
            const monthlyIncome = parseInt(document.getElementById('monthlyIncome').value) || 0;
            const creditScore = parseInt(document.getElementById('creditScore').value) || 650;

            // Create lead automatically
            const leadData = {
                firstName: '',
                lastName: '',
                email: '',
                phone: '',
                totalDebt: totalDebt,
                monthlyIncome: monthlyIncome,
                creditScore: creditScore,
                source: 'calculator',
                tags: ['calculator-lead', 'hot'],
                status: 'new'
            };

            // For now, just show a message
            // In production, this would show a contact form or calendar booking
            alert('Thank you for your interest! A debt specialist will contact you shortly.\n\nNext Step: Please provide your contact information.');

            // Could redirect to contact form or calendar page
            // window.location.href = '/contact?debt=' + totalDebt;
        }
    </script>
</body>
</html>
